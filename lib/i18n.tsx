"use client";

import React, {
  createContext,
  useCallback,
  useContext,
  useMemo,
  useState,
} from "react";

type Language = "en" | "gr";

type Resources = Record<Language, Record<string, string>>;

const resources: Resources = {
  en: {
    login_with_email: "Member login",
    signup_with_email: "New member registration",
    login_title: "Sign in",
    login_username: "Username",
    login_password: "Password",
    login_submit: "Sign in",
    home_welcome_title: "Welcome",
    home_welcome_body:
      "Use your existing e-order credentials or create a new account for your store.",
    nav_back_home: "Back to home",
    signup_title: "Sign up",
    signup_subtitle: "Create a new account for your store.",
    signup_company_name: "Company name",
    signup_vat: "VAT number",
    signup_phone: "Phone",
    signup_email: "Email",
    signup_password: "Password",
    signup_password_confirm: "Confirm password",
    first_name: "First Name",
    last_name: "Last Name",
    signup_continue: "Continue",
    signup_validation_company: "Please enter company name.",
    signup_validation_vat: "Please enter VAT number.",
    signup_validation_phone_digits: "Phone number must contain only digits.",
    signup_validation_phone_length: "Enter a valid phone number (10 digits).",
    signup_validation_email_required: "Enter email.",
    signup_validation_email_invalid: "Enter a valid email.",
    signup_validation_password_required: "Enter password.",
    signup_validation_password_match: "Passwords do not match.",
    signup_footer:
      "By continuing, you agree to the e-order terms and privacy policy.",
    dashboard_header_kpi: "Orders",
    calendar_today: "Today",
    suppliers_orders_of_day: "Orders of the day",
    suppliers_sort_by_time: "By time",
    suppliers_sort_asc: "Earliest first",
    suppliers_sort_desc: "Latest first",
    suppliers_sort_alpha_asc: "Sort A to Z",
    suppliers_sort_alpha_desc: "Sort Z to A",
    suppliers_include_completed: "Completed",
    suppliers_filter_all: "All",
    suppliers_filter_by_status: "Filter by status",
    suppliers_search_placeholder: "Search…",
    suppliers_loading: "Loading suppliers…",
    suppliers_error: "Failed to load suppliers list.",
    suppliers_empty: "No suppliers found.",
    suppliers_order_by: "Order by:",
    suppliers_delivery: "Delivery:",
    order_delivery_until: "Delivery until:",
    suppliers_view: "View",
    supplier_open: "Open",
    supplier_continue: "Continue",
    supplier_back: "Back",
    supplier_order_by: "Order by:",
    supplier_reserve: "Reserve:",
    supplier_basket: "Basket:",
    supplier_in_cart: "In cart:",
    supplier_loading_products: "Loading products…",
    supplier_error_products: "Failed to load products.",
    supplier_empty_products: "No products found for this supplier.",
    supplier_favorites: "Favorites",
    supplier_favorites_subtitle: "Your favorite products from this supplier",
    supplier_remove_favorite: "Remove from favorites",
    supplier_min_fill: "80% minimum order fill",
    product_packaging: "Packaging:",
    store_select_title: "Select store",
    store_select_description:
      "Your account has access to multiple stores. Choose one to continue.",
    store_select_close: "Close",
    store_select_store_fallback: "Store",
    logout: "Logout",
    nav_home: "Home",
    nav_switch_store: "Switch store",
    breadcrumb_dashboard: "Dashboard",
    breadcrumb_account: "Account",
    breadcrumb_checkout: "Checkout",
    breadcrumb_supplier_info: "Supplier details",
    breadcrumb_user_add: "Create user",
    common_back: "Back",
    common_supplier: "Supplier",
    login_toast_success: "Logged in",
    login_toast_error: "Login failed",
    login_signing_in: "Signing in…",
    error_app_message:
      "Something went wrong. Try again or go back to the home screen.",
    error_try_again: "Try again",
    pwa_ios_install_title: "Enable app",
    pwa_ios_install_subtitle:
      "To use e-order on this device, add it to your Home Screen.",
    pwa_ios_install_step1: "Tap the Share button",
    pwa_ios_install_step2: 'Select "Add to Home Screen"',
    pwa_ios_install_done: "I did it",
    pwa_android_install_title: "Install e-order",
    pwa_android_install_subtitle:
      "Install the app on your device for a full-screen, app-like experience.",
    pwa_android_install_button: "Install on device",
    pwa_android_install_fallback:
      'If you don\'t see the install button, open your browser menu and choose "Install app" or "Add to Home Screen".',
    pwa_update_available: "New version available. Refresh?",
    config_fav_title: "Favorite suppliers / products",
    config_fav_subtitle:
      "Read-only view of wishlist items from Basket/Wishlist_GetItems.",
    config_loading_favorites: "Loading favorites…",
    config_error_favorites: "Failed to load favorites.",
    config_empty_favorites: "No favorite items found.",
    config_users_title: "Users management",
    config_users_subtitle: "Read-only list of users for the current store.",
    config_users_store_uid: "Store UID:",
    config_loading_users: "Loading users…",
    config_error_users: "Failed to load users.",
    settings_account_error: "Failed to load account details.",
    settings_account_loading: "Loading account details…",
    config_empty_users: "No users found.",
    config_order_retake_title: "Order retake",
    config_order_retake_subtitle:
      'List of previous orders that could be "retaken" (new order from an existing one).',
    config_loading_orders: "Loading orders…",
    config_error_orders: "Failed to load orders.",
    config_empty_orders: "No orders found.",
    config_order_fallback: "Order",
    config_order_hours_title: "Order hours",
    config_order_hours_subtitle:
      "Read-only view of preferred schedule for orders (from MyStore/PrefSchedule_Get).",
    config_loading_schedule: "Loading schedule…",
    config_error_schedule: "Failed to load schedule.",
    basket_title: "Basket",
    basket_subtitle: "Overview of items currently in your baskets.",
    basket_total_baskets: "Total baskets:",
    basket_loading: "Loading basket items…",
    basket_error: "Failed to load basket items.",
    basket_empty: "No items in your baskets.",
    basket_items_label: "Items:",
    basket_toast_success: "Basket updated",
    aria_decrease_reserve: "Decrease reserve quantity",
    aria_reserve_quantity: "Reserve quantity",
    aria_increase_reserve: "Increase reserve quantity",
    aria_decrease_basket: "Decrease basket quantity",
    aria_basket_quantity: "Basket quantity",
    aria_increase_basket: "Increase basket quantity",
    aria_supplier_details: "Supplier details",
    home_brand: "E-ORDER",
    lang_gr: "GR",
    lang_en: "EN",
    supplier_order_history_title: "Order history",
    supplier_order_history_loading: "Loading orders…",
    supplier_order_history_error: "Failed to load orders.",
    supplier_order_history_empty: "No orders found for this supplier.",
    order_ref_date: "Order date:",
    order_delivery_date: "Delivery:",
    order_min_order: "Min. order:",
    order_remaining: "Remaining:",
    order_delivery_cost: "Delivery cost:",
    order_created_by: "Created by:",
    order_date_created: "Date created:",
    order_shopper_comments: "Your comments:",
    order_supplier_comments: "Supplier comments:",
    order_next_delivery: "Next delivery:",
    order_items_count: "Items",
    order_items: "Items purchased",
    order_items_empty: "No items in this order.",
    order_item_quantity: "Qty",
    order_redo_button: "Redo order",
    order_redo_dialog_title: "Redo this order?",
    order_redo_dialog_description:
      "This will add the same items to your basket. Continue?",
    order_redo_success: "Order added to basket",
    dashboard_card_suppliers: "Suppliers",
    dashboard_card_orders_of_day: "Orders of the Day",
    dashboard_card_statistics: "Statistics",
    dashboard_card_settings: "Settings",
    dashboard_card_supplier_config: "Supplier Configuration",
    dashboard_card_partner_suppliers: "Partner Suppliers",
    settings_title: "Settings",
    cart_summary: "Cart [{count}], {pcs} pcs",
    checkout_button: "Checkout",
    order_completion_title: "Order Completion",
    checkout_delivery: "Delivery",
    checkout_delivery_other_date: "Other date",
    checkout_select_delivery_date: "Select delivery date",
    checkout_date_confirm: "Confirm",
    checkout_date_cancel: "Cancel",
    checkout_comments: "Comments",
    checkout_total: "Total:",
    checkout_temporary_save: "Temporary Save",
    checkout_submit_order: "Submit Order",
    checkout_submitting: "Submitting…",
    checkout_basket_items: "Basket items",
    checkout_basket_empty: "No items in basket",
    checkout_quantity: "Quantity",
    checkout_remove_item: "Remove",
    checkout_removing: "Removing…",
    settings_switch_store: "Switch store",
    settings_manage_suppliers: "Manage suppliers",
    settings_edit_account: "Edit Account",
    settings_save_account_settings: "Save",
    settings_create_user: "Create user",
    settings_all_suppliers: "All suppliers",
    settings_back_to_suppliers: "Back to suppliers",
    settings_order_schedule: "Order schedule",
    settings_favorites: "Favorites",
    settings_order_history: "Order history",
    settings_supplier_details: "Supplier details",
    settings_contact: "Contact",
    supplier_original_title: "Original name",
    supplier_custom_title: "Custom name",
    supplier_vat_label: "VAT",
    supplier_main_activity: "Main activity",
    supplier_notes: "Notes",
    supplier_email: "Email",
    settings_reviews: "Reviews",
    settings_select_store_error: "Failed to select store",
    config_title: "Configuration",
    config_subtitle:
      "Settings and management screens migrated from the React Native app.",
    config_link_users: "Users management",
    config_link_order_hours: "Order hours",
    config_link_order_retake: "Order retake",
    config_link_fav_suppliers: "Favorite suppliers",
    aria_back: "Back",
    /* Ergastirio */
    erg_cart_empty_title: "Your cart is empty",
    erg_cart_empty_description:
      "There are no products in your cart. Start browsing to add products.",
    erg_cart_back_home: "Back to home",
    erg_order_details: "Order details",
    erg_order_details_and_checkout: "Details and complete order",
    erg_close: "Close",
    erg_delivery_date: "Delivery date",
    erg_available_days: "Available days:",
    erg_order_comments: "Order comments",
    erg_send_order: "Send order",
    erg_sending: "Sending…",
    erg_quantity_error_negative: "Quantity cannot be zero or less than zero",
    erg_price_without_vat: "Price without VAT:",
    erg_price_with_vat: "Price with VAT:",
    erg_wholesale_no_vat: "(Wholesale without VAT)",
    erg_apply_quantity: "Apply quantity",
    erg_central_branch: "Central",
    erg_branch: "Branch",
    erg_address: "Address",
    erg_phone: "Phone",
    erg_city: "City",
    erg_select_family: "Select product family",
    erg_select_family_description:
      "Available product families from your system.",
    erg_order_summary: "Order summary",
    erg_total_with_vat: "Total (with VAT):",
    erg_fav_products: "Favorite products",
    erg_other_products: "Other products",
    erg_search_placeholder: "Search…",
    erg_clients: "Clients",
    erg_clients_search_placeholder: "Search (name, VAT, city)…",
    erg_something_wrong: "Something went wrong",
    erg_no_results: "No results found.",
    erg_cart_aria: "Cart",
    erg_footer_copyright: "© 2026 E-order App. All rights reserved.",
    erg_clients_link: "CLIENTS",
    erg_logout: "Log out",
    erg_toast_order_sent: "Your order has been sent",
    erg_toast_cart_updated: "Cart updated",
    erg_toast_removed_from_cart: "Removed from cart",
    erg_toast_wrong_store: "Wrong store",
    erg_toast_basket_not_created: "Basket could not be created",
    erg_toast_basket_create_error: "Error creating basket",
    erg_toast_basket_not_found: "Basket not found",
    erg_toast_error: "Error",
    erg_prev_page: "Previous",
    erg_next_page: "Next",
    erg_page: "Page {current} / {total}",
    suppliers_baskets: "Baskets",
    suppliers_orders: "Orders",
    under_construction_title: "Under construction",
    under_construction_message:
      "This section is not available yet. We are working on it and will have it ready soon.",
    under_construction_back: "Back to dashboard",
  },
  gr: {
    login_with_email: "Σύνδεση μέλους",
    signup_with_email: "Εγγραφή νέου μέλους",
    login_title: "Σύνδεση",
    login_username: "Όνομα χρήστη",
    login_password: "Κωδικός",
    login_submit: "Σύνδεση",
    home_welcome_title: "Καλώς ήρθατε",
    home_welcome_body:
      "Χρησιμοποιήστε τους υπάρχοντες κωδικούς e-order ή δημιουργήστε νέο λογαριασμό για το κατάστημά σας.",
    nav_back_home: "Επιστροφή στην αρχική",
    signup_title: "Εγγραφή",
    signup_subtitle: "Δημιουργήστε νέο λογαριασμό για το κατάστημά σας.",
    signup_company_name: "Επωνυμία",
    signup_vat: "Α.Φ.Μ.",
    signup_phone: "Τηλέφωνο",
    signup_email: "Email",
    signup_password: "Κωδικός",
    signup_password_confirm: "Επιβεβαίωση κωδικού",
    first_name: "Όνομα",
    last_name: "Επώνυμο",
    signup_continue: "Συνέχεια",
    signup_validation_company: "Εισάγετε επωνυμία.",
    signup_validation_vat: "Εισάγετε Α.Φ.Μ.",
    signup_validation_phone_digits:
      "Το τηλέφωνο πρέπει να περιέχει μόνο αριθμούς.",
    signup_validation_phone_length: "Εισάγετε έγκυρο τηλέφωνο (10 ψηφία).",
    signup_validation_email_required: "Εισάγετε email.",
    signup_validation_email_invalid: "Εισάγετε έγκυρο email.",
    signup_validation_password_required: "Εισάγετε κωδικό.",
    signup_validation_password_match: "Οι κωδικοί πρόσβασης δεν ταιριάζουν.",
    signup_footer:
      "Συνεχίζοντας, αποδέχεστε τους όρους χρήσης και την πολιτική απορρήτου του e-order.",
    dashboard_header_kpi: "Παραγγελίες",
    calendar_today: "Σήμερα",
    suppliers_orders_of_day: "Παραγγελίες ημέρας",
    suppliers_sort_by_time: "Κατά ώρα",
    suppliers_sort_asc: "Πρώτα νωρίτερα",
    suppliers_sort_desc: "Πρώτα αργότερα",
    suppliers_sort_alpha_asc: "Ταξινόμηση Α-Ω",
    suppliers_sort_alpha_desc: "Ταξινόμηση Ω-Α",
    suppliers_include_completed: "Ολοκληρωμένες",
    suppliers_filter_all: "Όλα",
    suppliers_filter_by_status: "Φίλτρο κατά κατάσταση",
    suppliers_search_placeholder: "Αναζήτηση…",
    suppliers_loading: "Φόρτωση προμηθευτών…",
    suppliers_error: "Αποτυχία φόρτωσης λίστας προμηθευτών.",
    suppliers_empty: "Δεν βρέθηκαν προμηθευτές.",
    suppliers_order_by: "Παραγγελία έως:",
    suppliers_delivery: "Παράδοση:",
    order_delivery_until: "Παράδοση εώς:",
    suppliers_view: "Προβολή",
    supplier_open: "Άνοιγμα",
    supplier_continue: "Συνέχεια",
    supplier_back: "Πίσω",
    supplier_order_by: "Παραγγελία έως:",
    supplier_reserve: "Απόθεμα:",
    supplier_basket: "Καλάθι:",
    supplier_in_cart: "Στο καλάθι:",
    supplier_loading_products: "Φόρτωση προϊόντων…",
    supplier_error_products: "Αποτυχία φόρτωσης προϊόντων.",
    supplier_empty_products: "Δεν βρέθηκαν προϊόντα για αυτόν τον προμηθευτή.",
    supplier_favorites: "Αγαπημένα",
    supplier_favorites_subtitle:
      "Τα αγαπημένα σας προϊόντα από αυτόν τον προμηθευτή",
    supplier_remove_favorite: "Αφαίρεση από αγαπημένα",
    supplier_min_fill: "80% ελάχιστη κάλυψη παραγγελίας",
    product_packaging: "Συσκευασία:",
    store_select_title: "Επιλέξτε κατάστημα",
    store_select_description:
      "Ο λογαριασμός σας έχει πρόσβαση σε πολλά καταστήματα. Επιλέξτε ένα για να συνεχίσετε.",
    store_select_close: "Κλείσιμο",
    store_select_store_fallback: "Κατάστημα",
    logout: "Αποσύνδεση",
    nav_home: "Αρχική",
    nav_switch_store: "Αλλαγή καταστήματος",
    breadcrumb_dashboard: "Αρχική",
    breadcrumb_account: "Λογαριασμός",
    breadcrumb_checkout: "Ολοκλήρωση",
    breadcrumb_supplier_info: "Στοιχεία Προμηθευτή",
    breadcrumb_user_add: "Δημιουργία Χρήστη",
    common_back: "Πίσω",
    common_supplier: "Προμηθευτής",
    login_toast_success: "Συνδεθήκατε",
    login_toast_error: "Αποτυχία σύνδεσης",
    login_signing_in: "Σύνδεση…",
    error_app_message:
      "Κάτι πήγε στραβά. Δοκιμάστε ξανά ή επιστρέψτε στην αρχική οθόνη.",
    error_try_again: "Δοκίμασε ξανά",
    pwa_ios_install_title: "Ενεργοποίηση εφαρμογής",
    pwa_ios_install_subtitle:
      "Για να χρησιμοποιήσετε το e-order σε αυτή τη συσκευή, προσθέστε το στην αρχική οθόνη.",
    pwa_ios_install_step1: "Πατήστε το κουμπί Κοινοποίηση (Share)",
    pwa_ios_install_step2:
      'Επιλέξτε "Add to Home Screen" (Προσθήκη στην αρχική οθόνη)',
    pwa_ios_install_done: "Το έκανα",
    pwa_android_install_title: "Εγκατάσταση e-order",
    pwa_android_install_subtitle:
      "Εγκαταστήστε την εφαρμογή στη συσκευή σας για καλύτερη εμπειρία πλήρους οθόνης.",
    pwa_android_install_button: "Εγκατάσταση στο κινητό",
    pwa_android_install_fallback:
      'Αν δεν βλέπετε το κουμπί εγκατάστασης, ανοίξτε το μενού του browser και επιλέξτε "Install app" ή "Add to Home Screen".',
    pwa_update_available: "Νέα έκδοση διαθέσιμη. Ανανέωση;",
    config_fav_title: "Αγαπημένοι προμηθευτές / προϊόντα",
    config_fav_subtitle:
      "Μόνο για ανάγνωση: στοιχεία λίστας ευχών από Basket/Wishlist_GetItems.",
    config_loading_favorites: "Φόρτωση αγαπημένων…",
    config_error_favorites: "Αποτυχία φόρτωσης αγαπημένων.",
    config_empty_favorites: "Δεν βρέθηκαν αγαπημένα στοιχεία.",
    config_users_title: "Διαχειριση χρηστων",
    config_users_subtitle:
      "Λίστα χρηστών του τρέχοντος καταστήματος (μόνο ανάγνωση).",
    config_users_store_uid: "Store UID:",
    config_loading_users: "Φόρτωση χρηστών…",
    config_error_users: "Αποτυχία φόρτωσης χρηστών.",
    settings_account_error: "Αποτυχία φόρτωσης στοιχείων λογαριασμού.",
    settings_account_loading: "Φόρτωση στοιχείων λογαριασμού…",
    config_empty_users: "Δεν βρέθηκαν χρήστες.",
    config_order_retake_title: "Επαναληπτική παραγγελία",
    config_order_retake_subtitle:
      'Λίστα προηγούμενων παραγγελιών που μπορούν να "επαναληφθούν" (νέα παραγγελία από υπάρχουσα).',
    config_loading_orders: "Φόρτωση παραγγελιών…",
    config_error_orders: "Αποτυχία φόρτωσης παραγγελιών.",
    config_empty_orders: "Δεν βρέθηκαν παραγγελίες.",
    config_order_fallback: "Παραγγελία",
    config_order_hours_title: "Ώρες παραγγελίας",
    config_order_hours_subtitle:
      "Μόνο ανάγνωση: προτιμώμενο πρόγραμμα παραγγελιών (MyStore/PrefSchedule_Get).",
    config_loading_schedule: "Φόρτωση προγράμματος…",
    config_error_schedule: "Αποτυχία φόρτωσης προγράμματος.",
    basket_title: "Καλάθι",
    basket_subtitle: "Επισκόπηση στοιχείων στα καλάθια σας.",
    basket_total_baskets: "Σύνολο καλαθιών:",
    basket_loading: "Φόρτωση στοιχείων καλαθιού…",
    basket_error: "Αποτυχία φόρτωσης στοιχείων καλαθιού.",
    basket_empty: "Δεν υπάρχουν στοιχεία στα καλάθια σας.",
    basket_items_label: "Στοιχεία:",
    basket_toast_success: "Το καλάθι ενημερώθηκε",
    aria_decrease_reserve: "Μείωση ποσότητας απόθεματος",
    aria_reserve_quantity: "Ποσότητα απόθεματος",
    aria_increase_reserve: "Αύξηση ποσότητας απόθεματος",
    aria_decrease_basket: "Μείωση ποσότητας καλαθιού",
    aria_basket_quantity: "Ποσότητα καλαθιού",
    aria_increase_basket: "Αύξηση ποσότητας καλαθιού",
    aria_supplier_details: "Λεπτομέρειες προμηθευτή",
    home_brand: "E-ORDER",
    lang_gr: "GR",
    lang_en: "EN",
    supplier_order_history_title: "Ιστορικό παραγγελιών",
    supplier_order_history_loading: "Φόρτωση παραγγελιών…",
    supplier_order_history_error: "Αποτυχία φόρτωσης παραγγελιών.",
    supplier_order_history_empty:
      "Δεν βρέθηκαν παραγγελίες για αυτόν τον προμηθευτή.",
    order_ref_date: "Ημ. παραγγελίας:",
    order_delivery_date: "Παράδοση:",
    order_min_order: "Ελάχ. παραγγελία:",
    order_remaining: "Υπόλοιπο:",
    order_delivery_cost: "Κόστος παράδοσης:",
    order_created_by: "Δημιουργήθηκε από:",
    order_date_created: "Ημ. δημιουργίας:",
    order_shopper_comments: "Σχόλια σας:",
    order_supplier_comments: "Σχόλια προμηθευτή:",
    order_next_delivery: "Επομενη παραδοση:",
    order_items_count: "Στοιχεία",
    order_items: "Αγορασμένα προϊόντα",
    order_items_empty: "Δεν υπάρχουν προϊόντα σε αυτή την παραγγελία.",
    order_item_quantity: "Ποσ.",
    order_redo_button: "Επανάληψη παραγγελίας",
    order_redo_dialog_title: "Επανάληψη αυτής της παραγγελίας;",
    order_redo_dialog_description:
      "Θα προστεθούν τα ίδια προϊόντα στο καλάθι σας. Συνέχεια;",
    order_redo_success: "Η παραγγελία προστέθηκε στο καλάθι",
    dashboard_card_suppliers: "Προμηθευτές",
    dashboard_card_orders_of_day: "Παραγγελίες Ημέρας",
    dashboard_card_statistics: "Στατιστικά",
    dashboard_card_settings: "Ρυθμίσεις",
    dashboard_card_supplier_config: "Διαμόρφωση Προμηθευτών",
    dashboard_card_partner_suppliers: "Συνεργαζόμενοι Προμηθευτές",
    settings_title: "Ρυθμίσεις",
    cart_summary: "Καλάθι [{count}], {pcs} τεμ",
    checkout_button: "Καλάθι",
    order_completion_title: "Ολοκλήρωση Αγοράς",
    checkout_delivery: "Παραδοση",
    checkout_delivery_other_date: "Άλλη ημερομηνία",
    checkout_select_delivery_date: "Επιλέξτε ημερομηνία παράδοσης",
    checkout_date_confirm: "Επιβεβαίωση",
    checkout_date_cancel: "Ακύρωση",
    checkout_comments: "Σχόλια",
    checkout_total: "Σύνολο:",
    checkout_temporary_save: "Προσωρινή Αποθήκευση",
    checkout_submit_order: "Αποστολή Παραγγελίας",
    checkout_submitting: "Αποστολή…",
    checkout_basket_items: "Στοιχεία καλαθιού",
    checkout_basket_empty: "Δεν υπάρχουν στοιχεία στο καλάθι",
    checkout_quantity: "Ποσότητα",
    checkout_remove_item: "Το προϊόν αφαιρέθηκε",
    checkout_removing: "Αφαιρείται…",
    settings_switch_store: "Επιλογή Καταστήματος",
    settings_manage_suppliers: "Διαχείριση Προμηθευτών",
    settings_edit_account: "Επεξεργασια Λογαριασμου",
    settings_edit_account_button: "Επεξεργασία Λογαριασμού",
    settings_save_account_settings: "Αποθήκευση",
    settings_create_user: "Δημιουργία Χρήστη",
    settings_all_suppliers: "Όλοι οι Προμηθευτές",
    settings_back_to_suppliers: "Πίσω στους προμηθευτές",
    settings_order_schedule: "Ημέρες Παραγγελίας",
    settings_favorites: "Ταξινόμηση Αγαπημένων",
    settings_order_history: "Ιστορικό Παραγγελιών",
    settings_supplier_details: "Στοιχεία Προμηθευτή",
    settings_contact: "Επικοινωνία",
    settings_reviews: "Αξιολογήσεις",
    settings_address: "Διευθυνση",
    supplier_original_title: "Αρχική επωνυμία",
    supplier_custom_title: "Προσαρμ. επωνυμία",
    supplier_vat_label: "ΑΦΜ",
    supplier_main_activity: "Κύρια δραστηριότητα",
    supplier_notes: "Σημειωσεις",
    supplier_email: "Email",
    settings_select_store_error: "Αποτυχία επιλογής καταστήματος",
    config_title: "Διαμόρφωση",
    config_subtitle:
      "Οθόνες ρυθμίσεων και διαχείρισης από την εφαρμογή React Native.",
    config_link_users: "Διαχείριση χρηστών",
    config_link_order_hours: "Ώρες παραγγελίας",
    config_link_order_retake: "Επαναληπτική παραγγελία",
    config_link_fav_suppliers: "Αγαπημένοι προμηθευτές",
    aria_back: "Πίσω",
    /* Ergastirio */
    erg_cart_empty_title: "Το καλάθι σας είναι άδειο",
    erg_cart_empty_description:
      "Δεν υπάρχουν προϊόντα στο καλάθι σας. Ξεκινήστε την περιήγηση για να προσθέσετε προϊόντα.",
    erg_cart_back_home: "Επιστροφή στην αρχική",
    erg_order_details: "Λεπτομέρειες Παραγγελίας",
    erg_order_details_and_checkout: "Λεπτομέρειες και Ολοκλήρωση Παραγγελίας",
    erg_close: "Κλείσιμο",
    erg_delivery_date: "Ημερομηνία Παράδοσης",
    erg_available_days: "Διαθέσιμες ημέρες:",
    erg_order_comments: "Σχόλια Παραγγελίας",
    erg_send_order: "Αποστολή Παραγγελίας",
    erg_sending: "Αποστολή…",
    erg_quantity_error_negative:
      "Η ποσότητα δεν μπορεί να είναι μηδέν ή μικρότερη από μηδέν",
    erg_price_without_vat: "Τιμή χωρίς ΦΠΑ:",
    erg_price_with_vat: "Τιμή με ΦΠΑ:",
    erg_wholesale_no_vat: "(Χονδρική χωρίς ΦΠΑ)",
    erg_apply_quantity: "Εφαρμογή ποσότητας",
    erg_central_branch: "Κεντρικό",
    erg_branch: "Υποκατάστημα",
    erg_address: "Διεύθυνση",
    erg_phone: "Τηλέφωνο",
    erg_city: "Πόλη",
    erg_select_family: "Επιλέξτε οικογένεια προϊόντων",
    erg_select_family_description:
      "Οι διαθέσιμες οικογένειες προϊόντων από το σύστημά σας.",
    erg_order_summary: "Σύνοψη Παραγγελίας",
    erg_total_with_vat: "Σύνολο (με ΦΠΑ):",
    erg_fav_products: "Αγαπημενα Προϊοντα",
    erg_other_products: "Αλλα Προϊοντα",
    erg_search_placeholder: "Αναζήτηση…",
    erg_clients: "Πελάτες",
    erg_clients_search_placeholder: "Αναζήτηση (όνομα, ΑΦΜ, πόλη)…",
    erg_something_wrong: "Κάτι πήγε στραβά",
    erg_no_results: "Δεν βρέθηκαν αποτελέσματα.",
    erg_cart_aria: "Καλάθι",
    erg_footer_copyright:
      "© 2026 E-order App. Με επιφύλαξη παντός δικαιώματος.",
    erg_clients_link: "ΠΕΛΑΤΕΣ",
    erg_logout: "Αποσύνδεση",
    erg_toast_order_sent: "Η παραγγελία σας έχει σταλθεί",
    erg_toast_cart_updated: "Το καλάθι ενημερώθηκε",
    erg_toast_removed_from_cart: "Αφαιρέθηκε από το καλάθι",
    erg_toast_wrong_store: "Λάθος κατάστημα",
    erg_toast_basket_not_created: "Δεν δημιουργήθηκε καλάθι",
    erg_toast_basket_create_error: "Σφάλμα δημιουργίας καλαθιού",
    erg_toast_basket_not_found: "Το καλάθι δεν βρέθηκε",
    erg_toast_error: "Σφάλμα",
    erg_prev_page: "Προηγούμενο",
    erg_next_page: "Επόμενο",
    erg_page: "Σελίδα {current} / {total}",
    suppliers_baskets: "Καλάθια",
    suppliers_orders: "Παραγγελίες",
    under_construction_title: "Σε ανάπτυξη",
    under_construction_message:
      "Αυτή η ενότητα δεν είναι ακόμα διαθέσιμη. Δουλεύουμε πάνω της και θα είναι σύντομα έτοιμη.",
    under_construction_back: "Επιστροφή στην αρχική",
  },
};

type I18nContextValue = {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
};

const I18nContext = createContext<I18nContextValue | null>(null);

export function TranslationProvider({
  children,
}: {
  children: React.ReactNode;
}) {
  const [language, setLanguageState] = useState<Language>("gr");

  const setLanguage = useCallback((lang: Language) => {
    setLanguageState(lang);
  }, []);

  const t = useCallback(
    (key: string) => {
      const table = resources[language] ?? resources.gr;
      return table[key] ?? resources.gr[key] ?? key;
    },
    [language],
  );

  const value = useMemo(
    () => ({
      language,
      setLanguage,
      t,
    }),
    [language, setLanguage, t],
  );

  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>;
}

export function useTranslation() {
  const ctx = useContext(I18nContext);
  if (!ctx) {
    throw new Error("useTranslation must be used within TranslationProvider");
  }

  return {
    t: ctx.t,
    i18n: {
      language: ctx.language,
      changeLanguage: ctx.setLanguage,
    },
  };
}
